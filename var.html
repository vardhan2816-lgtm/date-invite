<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>A Special Surprise For You</title>
    <style>
        * { box-sizing: border-box; }
        
        body {
            margin: 0;
            padding: 0;
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(rgba(255, 192, 203, 0.5), rgba(230, 230, 250, 0.5)), 
                        url('https://images.unsplash.com/photo-1518199266791-5375a83190b7?q=80&w=2070');
            background-size: cover;
            background-position: center;
            overflow: hidden; 
        }

        .card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            padding: 35px;
            border-radius: 30px;
            border: 4px solid #f8bbd0;
            text-align: center;
            width: 92%;
            max-width: 450px;
            box-shadow: 0 15px 40px rgba(214, 51, 132, 0.2);
            animation: fadeIn 0.8s ease-out;
            position: relative;
            z-index: 10;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        h2 { color: #8e24aa; font-size: 1.3rem; margin-bottom: 25px; line-height: 1.4; }

        input[type="text"] {
            width: 100%;
            padding: 18px;
            border-radius: 15px;
            border: 2px solid #f8bbd0;
            margin-bottom: 20px;
            font-size: 1.1rem;
            outline: none;
            text-align: center;
            background: #fff5f8;
        }

        .options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }

        button {
            padding: 15px 10px;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            font-weight: bold;
            font-size: 1rem;
            transition: 0.3s;
            -webkit-tap-highlight-color: transparent;
        }

        .start-btn { background: #ff4d6d; color: white; width: 100%; box-shadow: 0 5px 15px rgba(255, 77, 109, 0.3); }
        .option-btn { background: #fce4ec; color: #ad1457; border: 2px solid #f8bbd0; }
        .option-btn:active { transform: scale(0.9); background: #f3e5f5; }

        #final-zone { display: none; position: relative; height: 160px; margin-top: 15px; }
        #yesBtn { background: #ff4d6d; color: white; padding: 15px 45px; font-size: 1.4rem; z-index: 100; position: relative; border-radius: 50px; }
        #noBtn { background: #b39ddb; color: white; position: absolute; left: 50%; transform: translateX(-50%); bottom: 10px; border-radius: 50px; padding: 10px 25px; }

        .hidden { display: none; }

        /* Animation Styles */
        .emoji-fall {
            position: fixed;
            top: -50px;
            z-index: 999;
            pointer-events: none;
            animation: fall linear forwards;
        }

        @keyframes fall {
            to { transform: translateY(110vh) rotate(360deg); }
        }
    </style>
</head>
<body>

    <div class="card" id="main-card">
        <div id="screen-name">
            <div style="font-size: 3.5rem; margin-bottom: 15px;">üéÄ</div>
            <h2>I have a surprise for you!<br>But first, what is your name?</h2>
            <input type="text" id="userName" placeholder="Type your name here..." autocomplete="off">
            <button class="start-btn" onclick="goToQuiz()">Let's Play! ‚ú®</button>
        </div>

        <div id="screen-quiz" class="hidden">
            <div id="progress" style="font-size: 0.85rem; color: #ad1457; font-weight: bold; margin-bottom: 10px;">Question 1 of 13</div>
            <h2 id="q-text"></h2>
            <div id="options-box" class="options-grid"></div>

            <div id="final-zone">
                <button id="yesBtn" onclick="submitGame()">YES! ‚ù§Ô∏è</button>
                <button id="noBtn" onmouseover="dodge()" ontouchstart="dodge()">NO üíî</button>
            </div>
        </div>

        <div id="screen-thanks" class="hidden">
            <div style="font-size: 4rem; margin-bottom: 15px;">ü•∞</div>
            <h1 style="color: #d81b60; margin-bottom: 10px;">It's a Date!</h1>
            <p id="success-msg" style="color: #8e24aa; font-size: 1.1rem; line-height: 1.5;"></p>
            <h2 style="margin-top: 25px;">See you on the 14th! üíñ</h2>
        </div>
    </div>

    <form id="formspree-hook" action="https://formspree.io/f/YOUR_FORMSPREE_ID_HERE" method="POST" style="display:none;"></form>

    <script>
        const quizData = [
            { q: "What is my absolute favorite drink?", opts: ["Watermelon Juice", "Coffee", "Tea", "Pineapple Juice"] },
            { q: "Which color looks best on me?", opts: ["Blue", "Red", "Black", "White"] },
            { q: "What is our favorite food to share?", opts: ["Pizza", "Biryani", "Burger", "Noodles"] },
            { q: "What is my biggest pet peeve?", opts: ["Loud noises", "Being ignored", "Cold food", "Early mornings"] },
            { q: "What do I admire most about you?", opts: ["Humor", "Caring heart", "Style", "Intelligence"] },
            { q: "How would you describe our bond?", opts: ["Best friends", "Soulmates", "Husband/Wife vibe", "Partners in crime"] },
            { q: "What is the #1 thing I want for us?", opts: ["Wealth", "True Friendship", "Adventure", "Peace"] },
            { q: "What is our favorite thing to do together?", opts: ["Deep talks", "Napping", "Movie marathons", "Gaming"] },
            { q: "Our perfect weekend involves...", opts: ["A party night", "Staying in", "A road trip", "Being productive"] },
            { q: "How much do I truly love you?", opts: ["100%", "Infinite", "To the moon", "Beyond words"] },
            { q: "Have you ever had a dream about me?", opts: ["Yes, many times! ‚ù§Ô∏è", "Every single night", "Not yet, but I will tonight!", "It's a secret... üòâ"] },
            { q: "What is our current status?", opts: ["Single", "Committed", "It's Complicated", "Just Vining"] },
            { q: "Will you be my life partner?", opts: ["Yes", "Absolutely Yes", "Forever Yes", "Of course"] }
        ];

        let step = 0;
        let scale = 1;
        let answers = {};
        let playerName = "";

        function goToQuiz() {
            playerName = document.getElementById('userName').value.trim();
            if (playerName === "") {
                alert("Please enter your name first! üòä");
                return;
            }
            document.getElementById('screen-name').classList.add('hidden');
            document.getElementById('screen-quiz').classList.remove('hidden');
            renderQ();
        }

        function renderQ() {
            if (step < quizData.length) {
                const data = quizData[step];
                document.getElementById('progress').innerText = `Question ${step + 1} of 13`;
                document.getElementById('q-text').innerText = data.q;
                
                const box = document.getElementById('options-box');
                box.innerHTML = '';
                
                data.opts.forEach(opt => {
                    const btn = document.createElement('button');
                    btn.innerText = opt;
                    btn.className = 'option-btn';
                    btn.onclick = () => {
                        answers[`Step_${step+1}_${data.q.split(' ')[0]}`] = opt;
                        step++;
                        renderQ();
                    };
                    box.appendChild(btn);
                });
            } else {
                showFinal();
            }
        }

        function showFinal() {
            document.getElementById('progress').innerText = "THE FINAL STEP";
            document.getElementById('q-text').innerText = `${playerName}, will you be my Valentine and go on a date with me?`;
            document.getElementById('options-box').style.display = 'none';
            document.getElementById('final-zone').style.display = 'block';
        }

        function dodge() {
            const no = document.getElementById('noBtn');
            const yes = document.getElementById('yesBtn');
            const x = Math.random() * (window.innerWidth - 120);
            const y = Math.random() * (window.innerHeight - 60);
            no.style.position = 'fixed';
            no.style.left = x + 'px';
            no.style.top = y + 'px';
            scale += 0.25;
            yes.style.transform = `scale(${scale})`;
        }

        function startAnimation() {
            const emojis = ['‚ù§Ô∏è', 'üíñ', 'üòä', 'üòò', 'üíï', 'üë©‚Äç‚ù§Ô∏è‚Äçüë®', 'üåπ', '‚ú®'];
            for (let i = 0; i < 50; i++) {
                const e = document.createElement('div');
                e.innerText = emojis[Math.floor(Math.random() * emojis.length)];
                e.className = 'emoji-fall';
                e.style.left = Math.random() * 100 + 'vw';
                e.style.fontSize = Math.random() * 20 + 20 + 'px';
                e.style.animationDuration = Math.random() * 2 + 3 + 's';
                e.style.animationDelay = Math.random() * 2 + 's';
                document.body.appendChild(e);
            }
        }

        async function submitGame() {
            document.getElementById('screen-quiz').innerHTML = "<h2>Sending your answers... üíå</h2>";
            
            const fd = new FormData();
            fd.append("VALENTINE_NAME", playerName);
            for (let key in answers) { fd.append(key, answers[key]); }
            fd.append("DATE_ACCEPTED", "YES");

            try {
                await fetch(document.getElementById('formspree-hook').action, {
                    method: 'POST', body: fd, headers: { 'Accept': 'application/json' }
                });
            } catch (e) {}

            document.getElementById('screen-quiz').classList.add('hidden');
            document.getElementById('screen-thanks').classList.remove('hidden');
            document.getElementById('success-msg').innerText = `I've received all your choices, ${playerName}. I'm the luckiest person to have you!`;
            document.body.style.background = "#fff0f3";
            startAnimation();
        }
    </script>
</body>
</html>
